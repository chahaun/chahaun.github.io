---
layout: post
title:  "Node.js 기본 정리 2"
subtitle:   "Node.js 기본 정리 2"
categories: study
tags: node nodejs
---

Node.js에 대한 문법 및 내용 기본정리 2

# Node.js

### 파일 시스템 접근하기

fs모듈을 이용하면 파일을 생성하거나 삭제하고, 읽고 쓰기가 가능하다.  
아래 코드와 같이 readFile을 이용한다.  
~~~
const fs = require('fs');
fs.readFile('./readme.txt', (err, data) => {
  if (err) throw err;
  console.log(data);
  console.log(data.toString());
});
~~~
readFile은 읽을파일, 콜백함수 2개를 인자로 넣는다.  
콜백함수는 err, data를 가지며 정상 출력시 data를 출력한다.  
파일을 읽으면 버퍼(메모리의 데이터)로 읽으며 이를 toString으로 변환해야 한다.  
쓰기는 writeFile을 이용한다.  

### 동기 메서드와 비동기 메서드

노드는 대부분의 메서드를 비동기 방식으로 처리한다. 위 파일을 읽을때도 비동기로  
파일을 읽기 때문에 여러 파일을 읽게되면 출력순서가 다를 수 있다.  
파일을 읽을 때 동기 방식으로 읽으려면 readFileSync를 사용한다.  
대신 파일을 다 읽기 전까지 다음 코드가 진행이 안된다는 점이 문제다.  

동기-비동기의 차이는 함수가 바로 return 되는지 여부의 차이이며,  
블로킹-논블로킹의 차이는 백그라운드 작업 완료의 여부이다.  

비동기 방식으로 하되, 순서를 유지하고 싶다면?  
readFile의 경우 2번째 인자로 콜백함수를 넣는데, 이때 다음 readFile을 넣어준다.  
이러면 콜백 헬이 펼쳐질 수 있다. 이는 Promise나 async/await으로 처리해준다.  

### 버퍼와 스트림 이해하기



